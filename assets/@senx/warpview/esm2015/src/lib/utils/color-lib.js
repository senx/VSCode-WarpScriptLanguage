/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*
 *  Copyright 2020  SenX S.A.S.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 */
// @dynamic
export class ColorLib {
    /**
     * @param {?} i
     * @param {?} scheme
     * @return {?}
     */
    static getColor(i, scheme) {
        return ColorLib.color[scheme][i % ColorLib.color[scheme].length];
    }
    /**
     * @param {?} id
     * @param {?} scheme
     * @return {?}
     */
    static getColorGradient(id, scheme) {
        return [
            [0, ColorLib.transparentize(ColorLib.getColor(id, scheme), 0)],
            [1, ColorLib.transparentize(ColorLib.getColor(id, scheme), 0.7)]
        ];
    }
    /**
     * @param {?} id
     * @param {?} scheme
     * @param {?=} bg
     * @return {?}
     */
    static getBlendedColorGradient(id, scheme, bg = '#000000') {
        return [
            [0, ColorLib.blend_colors(bg, ColorLib.getColor(id, scheme), 0)],
            [1, ColorLib.blend_colors(bg, ColorLib.getColor(id, scheme), 1)]
        ];
    }
    /**
     * @param {?} scheme
     * @return {?}
     */
    static getColorScale(scheme) {
        return ColorLib.color[scheme].map((/**
         * @param {?} c
         * @param {?} i
         * @return {?}
         */
        (c, i) => [i, c]));
    }
    /**
     * @param {?} hex
     * @return {?}
     */
    static hexToRgb(hex) {
        /** @type {?} */
        const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        return result ? [
            parseInt(result[1], 16),
            parseInt(result[2], 16),
            parseInt(result[3], 16)
        ] : null;
    }
    /**
     * @param {?} color
     * @param {?=} alpha
     * @return {?}
     */
    static transparentize(color, alpha = 0.5) {
        return 'rgba(' + ColorLib.hexToRgb(color).concat(alpha).join(',') + ')';
    }
    /**
     * @param {?} num
     * @param {?} scheme
     * @return {?}
     */
    static generateColors(num, scheme) {
        /** @type {?} */
        const color = [];
        for (let i = 0; i < num; i++) {
            color.push(ColorLib.getColor(i, scheme));
        }
        return color;
    }
    /**
     * @param {?} num
     * @param {?} scheme
     * @return {?}
     */
    static generateTransparentColors(num, scheme) {
        /** @type {?} */
        const color = [];
        for (let i = 0; i < num; i++) {
            color.push(ColorLib.transparentize(ColorLib.getColor(i, scheme)));
        }
        return color;
    }
    /**
     * @param {?} c1
     * @param {?} c2
     * @param {?} steps
     * @return {?}
     */
    static hsvGradientFromRgbColors(c1, c2, steps) {
        /** @type {?} */
        const c1hsv = ColorLib.rgb2hsv(c1.r, c1.g, c1.b);
        /** @type {?} */
        const c2hsv = ColorLib.rgb2hsv(c2.r, c2.g, c2.b);
        c1.h = c1hsv[0];
        c1.s = c1hsv[1];
        c1.v = c1hsv[2];
        c2.h = c2hsv[0];
        c2.s = c2hsv[1];
        c2.v = c2hsv[2];
        /** @type {?} */
        const gradient = ColorLib.hsvGradient(c1, c2, steps);
        for (const i in gradient) {
            if (gradient[i]) {
                gradient[i].rgb = ColorLib.hsv2rgb(gradient[i].h, gradient[i].s, gradient[i].v);
                gradient[i].r = Math.floor(gradient[i].rgb[0]);
                gradient[i].g = Math.floor(gradient[i].rgb[1]);
                gradient[i].b = Math.floor(gradient[i].rgb[2]);
            }
        }
        return gradient;
    }
    /**
     * @private
     * @param {?} r
     * @param {?} g
     * @param {?} b
     * @return {?}
     */
    static rgb2hsv(r, g, b) {
        // Normalize
        /** @type {?} */
        const normR = r / 255.0;
        /** @type {?} */
        const normG = g / 255.0;
        /** @type {?} */
        const normB = b / 255.0;
        /** @type {?} */
        const M = Math.max(normR, normG, normB);
        /** @type {?} */
        const m = Math.min(normR, normG, normB);
        /** @type {?} */
        const d = M - m;
        /** @type {?} */
        let h;
        /** @type {?} */
        let s;
        /** @type {?} */
        let v;
        v = M;
        if (d === 0) {
            h = 0;
            s = 0;
        }
        else {
            s = d / v;
            switch (M) {
                case normR:
                    h = ((normG - normB) + d * (normG < normB ? 6 : 0)) / 6 * d;
                    break;
                case normG:
                    h = ((normB - normR) + d * 2) / 6 * d;
                    break;
                case normB:
                    h = ((normR - normG) + d * 4) / 6 * d;
                    break;
            }
        }
        return [h, s, v];
    }
    /**
     * @private
     * @param {?} c1
     * @param {?} c2
     * @param {?} steps
     * @return {?}
     */
    static hsvGradient(c1, c2, steps) {
        /** @type {?} */
        const gradient = new Array(steps);
        // determine clockwise and counter-clockwise distance between hues
        /** @type {?} */
        const distCCW = (c1.h >= c2.h) ? c1.h - c2.h : 1 + c1.h - c2.h;
        /** @type {?} */
        const distCW = (c1.h >= c2.h) ? 1 + c2.h - c1.h : c2.h - c1.h;
        // make gradient for this part
        for (let i = 0; i < steps; i++) {
            // interpolate h, s, b
            /** @type {?} */
            let h = (distCW <= distCCW) ? c1.h + (distCW * i / (steps - 1)) : c1.h - (distCCW * i / (steps - 1));
            if (h < 0) {
                h = 1 + h;
            }
            if (h > 1) {
                h = h - 1;
            }
            /** @type {?} */
            const s = (1 - i / (steps - 1)) * c1.s + i / (steps - 1) * c2.s;
            /** @type {?} */
            const v = (1 - i / (steps - 1)) * c1.v + i / (steps - 1) * c2.v;
            // add to gradient array
            gradient[i] = { h, s, v };
        }
        return gradient;
    }
    /**
     * @private
     * @param {?} h
     * @param {?} s
     * @param {?} v
     * @return {?}
     */
    static hsv2rgb(h, s, v) {
        /** @type {?} */
        let r;
        /** @type {?} */
        let g;
        /** @type {?} */
        let b;
        /** @type {?} */
        const i = Math.floor(h * 6);
        /** @type {?} */
        const f = h * 6 - i;
        /** @type {?} */
        const p = v * (1 - s);
        /** @type {?} */
        const q = v * (1 - f * s);
        /** @type {?} */
        const t = v * (1 - (1 - f) * s);
        switch (i % 6) {
            case 0:
                r = v;
                g = t;
                b = p;
                break;
            case 1:
                r = q;
                g = v;
                b = p;
                break;
            case 2:
                r = p;
                g = v;
                b = t;
                break;
            case 3:
                r = p;
                g = q;
                b = v;
                break;
            case 4:
                r = t;
                g = p;
                b = v;
                break;
            case 5:
                r = v;
                g = p;
                b = q;
                break;
        }
        return [r * 255, g * 255, b * 255];
    }
    /**
     * @param {?} r
     * @param {?} g
     * @param {?} b
     * @return {?}
     */
    static rgb2hex(r, g, b) {
        /**
         * @param {?} c
         * @return {?}
         */
        function componentToHex(c) {
            /** @type {?} */
            const hex = c.toString(16);
            return hex.length === 1 ? '0' + hex : hex;
        }
        return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);
    }
    /**
     * @param {?} color1
     * @param {?} color2
     * @param {?} percentage
     * @return {?}
     */
    static blend_colors(color1, color2, percentage) {
        // check input
        color1 = color1 || '#000000';
        color2 = color2 || '#ffffff';
        percentage = percentage || 0.5;
        // 1: validate input, make sure we have provided a valid hex
        if (color1.length !== 4 && color1.length !== 7) {
            throw new Error('colors must be provided as hexes');
        }
        if (color2.length !== 4 && color2.length !== 7) {
            throw new Error('colors must be provided as hexes');
        }
        if (percentage > 1 || percentage < 0) {
            throw new Error('percentage must be between 0 and 1');
        }
        // 2: check to see if we need to convert 3 char hex to 6 char hex, else slice off hash
        //      the three character hex is just a representation of the 6 hex where each character is repeated
        //      ie: #060 => #006600 (green)
        if (color1.length === 4) {
            color1 = color1[1] + color1[1] + color1[2] + color1[2] + color1[3] + color1[3];
        }
        else {
            color1 = color1.substring(1);
        }
        if (color2.length === 4) {
            color2 = color2[1] + color2[1] + color2[2] + color2[2] + color2[3] + color2[3];
        }
        else {
            color2 = color2.substring(1);
        }
        console.log('valid: c1 => ' + color1 + ', c2 => ' + color2);
        // 3: we have valid input, convert colors to rgb
        color1 = [parseInt(color1[0] + color1[1], 16), parseInt(color1[2] + color1[3], 16), parseInt(color1[4] + color1[5], 16)];
        color2 = [parseInt(color2[0] + color2[1], 16), parseInt(color2[2] + color2[3], 16), parseInt(color2[4] + color2[5], 16)];
        console.log('hex -> rgba: c1 => [' + color1.join(', ') + '], c2 => [' + color2.join(', ') + ']');
        // 4: blend
        /** @type {?} */
        const color3 = [
            (1 - percentage) * color1[0] + percentage * color2[0],
            (1 - percentage) * color1[1] + percentage * color2[1],
            (1 - percentage) * color1[2] + percentage * color2[2]
        ];
        /** @type {?} */
        const color3Str = '#' + ColorLib.int_to_hex(color3[0]) + ColorLib.int_to_hex(color3[1]) + ColorLib.int_to_hex(color3[2]);
        console.log(color3Str);
        // return hex
        return color3Str;
    }
    /*
          convert a Number to a two character hex string
          must round, or we will end up with more digits than expected (2)
          note: can also result in single digit, which will need to be padded with a 0 to the left
          @param: num         => the number to conver to hex
          @returns: string    => the hex representation of the provided number
      */
    /**
     * @param {?} num
     * @return {?}
     */
    static int_to_hex(num) {
        /** @type {?} */
        let hex = Math.round(num).toString(16);
        if (hex.length === 1) {
            hex = '0' + hex;
        }
        return hex;
    }
}
ColorLib.color = {
    COHESIVE: [
        '#F2D354',
        '#E4612F',
        '#D32C2E',
        '#6D2627',
        '#6C7F55',
        '#934FC6',
        '#F07A5D',
        '#ED8371',
        '#94E751',
        '#C457F7',
        '#973AF7',
        '#B6FF7A',
        '#C7FFD5',
        '#90E4D0',
        '#E09234',
        '#D2FF91',
        '#17B201'
    ],
    COHESIVE_2: [
        '#6F694E',
        '#65D0B2',
        '#D8F546',
        '#FF724B',
        '#D6523E',
        '#F9F470',
        '#F4BC78',
        '#B1D637',
        '#FFCFC8',
        '#56CDAB',
        '#CFDD22',
        '#B3F5D2',
        '#97DB29',
        '#9DC5EE',
        '#CFC0F5',
        '#EDEA29',
        '#5EC027',
        '#386C94'
    ],
    BELIZE: [
        '#5899DA',
        '#E8743B',
        '#19A979',
        '#ED4A7B',
        '#945ECF',
        '#13A4B4',
        '#525DF4',
        '#BF399E',
        '#6C8893',
        '#EE6868',
        '#2F6497'
    ],
    VIRIDIS: [
        '#440154',
        '#481f70',
        '#443983',
        '#3b528b',
        '#31688e',
        '#287c8e',
        '#21918c',
        '#20a486',
        '#35b779',
        '#5ec962',
        '#90d743',
        '#c8e020',
    ],
    MAGMA: [
        '#000004',
        '#100b2d',
        '#2c115f',
        '#51127c',
        '#721f81',
        '#932b80',
        '#b73779',
        '#d8456c',
        '#f1605d',
        '#fc8961',
        '#feb078',
        '#fed799',
    ],
    INFERNO: [
        '#000004',
        '#110a30',
        '#320a5e',
        '#57106e',
        '#781c6d',
        '#9a2865',
        '#bc3754',
        '#d84c3e',
        '#ed6925',
        '#f98e09',
        '#fbb61a',
        '#f4df53',
    ],
    PLASMA: [
        '#0d0887',
        '#3a049a',
        '#5c01a6',
        '#7e03a8',
        '#9c179e',
        '#b52f8c',
        '#cc4778',
        '#de5f65',
        '#ed7953',
        '#f89540',
        '#fdb42f',
        '#fbd524',
    ],
    YL_OR_RD: [
        '#ffffcc',
        '#ffeda0',
        '#fed976',
        '#feb24c',
        '#fd8d3c',
        '#fc4e2a',
        '#e31a1c',
        '#bd0026',
        '#800026',
    ],
    YL_GN_BU: [
        '#ffffd9',
        '#edf8b1',
        '#c7e9b4',
        '#7fcdbb',
        '#41b6c4',
        '#1d91c0',
        '#225ea8',
        '#253494',
        '#081d58',
    ],
    BU_GN: [
        '#f7fcfd',
        '#ebf7fa',
        '#dcf2f2',
        '#c8eae4',
        '#aadfd2',
        '#88d1bc',
        '#68c2a3',
        '#4eb485',
        '#37a266',
        '#228c49',
        '#0d7635',
        '#025f27',
    ],
    WARP10: [
        '#ff9900',
        '#004eff',
        '#E53935',
        '#7CB342',
        '#F4511E',
        '#039BE5',
        '#D81B60',
        '#C0CA33',
        '#6D4C41',
        '#8E24AA',
        '#00ACC1',
        '#FDD835',
        '#5E35B1',
        '#00897B',
        '#FFB300',
        '#3949AB',
        '#43A047',
        '#1E88E5',
    ],
    NINETEEN_EIGHTY_FOUR: ['#31C0F6', '#A500A5', '#FF7E27'],
    ATLANTIS: ['#74D495', '#3F3FBA', '#FF4D9E'],
    DO_ANDROIDS_DREAM: ['#8F8AF4', '#A51414', '#F4CF31'],
    DELOREAN: ['#FD7A5D', '#5F1CF2', '#4CE09A'],
    CTHULHU: ['#FDC44F', '#007C76', '#8983FF'],
    ECTOPLASM: ['#DA6FF1', '#00717A', '#ACFF76'],
    T_MAX_400_FILM: ['#F6F6F8', '#A4A8B6', '#545667']
};
if (false) {
    /** @type {?} */
    ColorLib.color;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sb3ItbGliLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHNlbngvd2FycHZpZXcvIiwic291cmNlcyI6WyJzcmMvbGliL3V0aWxzL2NvbG9yLWxpYi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkEsTUFBTSxPQUFPLFFBQVE7Ozs7OztJQStLbkIsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFTLEVBQUUsTUFBYztRQUN2QyxPQUFPLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkUsQ0FBQzs7Ozs7O0lBRUQsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQVUsRUFBRSxNQUFjO1FBQ2hELE9BQU87WUFDTCxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzlELENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDakUsQ0FBQztJQUNKLENBQUM7Ozs7Ozs7SUFFRCxNQUFNLENBQUMsdUJBQXVCLENBQUMsRUFBVSxFQUFFLE1BQWMsRUFBRSxFQUFFLEdBQUcsU0FBUztRQUN2RSxPQUFPO1lBQ0wsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDaEUsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFD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O1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO0tBQ1Y7SUFDRCxVQUFVLEVBQUU7UUFDVixTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7S0FDVjtJQUNELE1BQU0sRUFBRTtRQUNOLFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO0tBQ1Y7SUFDRCxPQUFPLEVBQUU7UUFDUCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7S0FDVjtJQUNELEtBQUssRUFBRTtRQUNMLFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztLQUNWO0lBQ0QsT0FBTyxFQUFFO1FBQ1AsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO0tBQ1Y7SUFDRCxNQUFNLEVBQUU7UUFDTixTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7S0FDVjtJQUNELFFBQVEsRUFBRTtRQUNSLFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztLQUNWO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO0tBQ1Y7SUFDRCxLQUFLLEVBQUU7UUFDTCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7S0FDVjtJQUNELE1BQU0sRUFBRTtRQUNOLFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTO1FBQ1QsU0FBUztLQUNWO0lBQ0Qsb0JBQW9CLEVBQUUsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQztJQUN2RCxRQUFRLEVBQUUsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQztJQUMzQyxpQkFBaUIsRUFBRSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDO0lBQ3BELFFBQVEsRUFBRSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDO0lBQzNDLE9BQU8sRUFBRSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDO0lBQzFDLFNBQVMsRUFBRSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDO0lBQzVDLGNBQWMsRUFBRSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDO0NBQ2xELENBQUM7OztJQTVLRixlQTRLRSIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgIFNlblggUy5BLlMuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbi8vIEBkeW5hbWljXG5leHBvcnQgY2xhc3MgQ29sb3JMaWIge1xuICBzdGF0aWMgY29sb3IgPSB7XG4gICAgQ09IRVNJVkU6IFtcbiAgICAgICcjRjJEMzU0JyxcbiAgICAgICcjRTQ2MTJGJyxcbiAgICAgICcjRDMyQzJFJyxcbiAgICAgICcjNkQyNjI3JyxcbiAgICAgICcjNkM3RjU1JyxcbiAgICAgICcjOTM0RkM2JyxcbiAgICAgICcjRjA3QTVEJyxcbiAgICAgICcjRUQ4MzcxJyxcbiAgICAgICcjOTRFNzUxJyxcbiAgICAgICcjQzQ1N0Y3JyxcbiAgICAgICcjOTczQUY3JyxcbiAgICAgICcjQjZGRjdBJyxcbiAgICAgICcjQzdGRkQ1JyxcbiAgICAgICcjOTBFNEQwJyxcbiAgICAgICcjRTA5MjM0JyxcbiAgICAgICcjRDJGRjkxJyxcbiAgICAgICcjMTdCMjAxJ1xuICAgIF0sXG4gICAgQ09IRVNJVkVfMjogW1xuICAgICAgJyM2RjY5NEUnLFxuICAgICAgJyM2NUQwQjInLFxuICAgICAgJyNEOEY1NDYnLFxuICAgICAgJyNGRjcyNEInLFxuICAgICAgJyNENjUyM0UnLFxuICAgICAgJyNGOUY0NzAnLFxuICAgICAgJyNGNEJDNzgnLFxuICAgICAgJyNCMUQ2MzcnLFxuICAgICAgJyNGRkNGQzgnLFxuICAgICAgJyM1NkNEQUInLFxuICAgICAgJyNDRkREMjInLFxuICAgICAgJyNCM0Y1RDInLFxuICAgICAgJyM5N0RCMjknLFxuICAgICAgJyM5REM1RUUnLFxuICAgICAgJyNDRkMwRjUnLFxuICAgICAgJyNFREVBMjknLFxuICAgICAgJyM1RUMwMjcnLFxuICAgICAgJyMzODZDOTQnXG4gICAgXSxcbiAgICBCRUxJWkU6IFtcbiAgICAgICcjNTg5OURBJyxcbiAgICAgICcjRTg3NDNCJyxcbiAgICAgICcjMTlBOTc5JyxcbiAgICAgICcjRUQ0QTdCJyxcbiAgICAgICcjOTQ1RUNGJyxcbiAgICAgICcjMTNBNEI0JyxcbiAgICAgICcjNTI1REY0JyxcbiAgICAgICcjQkYzOTlFJyxcbiAgICAgICcjNkM4ODkzJyxcbiAgICAgICcjRUU2ODY4JyxcbiAgICAgICcjMkY2NDk3J1xuICAgIF0sXG4gICAgVklSSURJUzogW1xuICAgICAgJyM0NDAxNTQnLFxuICAgICAgJyM0ODFmNzAnLFxuICAgICAgJyM0NDM5ODMnLFxuICAgICAgJyMzYjUyOGInLFxuICAgICAgJyMzMTY4OGUnLFxuICAgICAgJyMyODdjOGUnLFxuICAgICAgJyMyMTkxOGMnLFxuICAgICAgJyMyMGE0ODYnLFxuICAgICAgJyMzNWI3NzknLFxuICAgICAgJyM1ZWM5NjInLFxuICAgICAgJyM5MGQ3NDMnLFxuICAgICAgJyNjOGUwMjAnLFxuICAgIF0sXG4gICAgTUFHTUE6IFtcbiAgICAgICcjMDAwMDA0JyxcbiAgICAgICcjMTAwYjJkJyxcbiAgICAgICcjMmMxMTVmJyxcbiAgICAgICcjNTExMjdjJyxcbiAgICAgICcjNzIxZjgxJyxcbiAgICAgICcjOTMyYjgwJyxcbiAgICAgICcjYjczNzc5JyxcbiAgICAgICcjZDg0NTZjJyxcbiAgICAgICcjZjE2MDVkJyxcbiAgICAgICcjZmM4OTYxJyxcbiAgICAgICcjZmViMDc4JyxcbiAgICAgICcjZmVkNzk5JyxcbiAgICBdLFxuICAgIElORkVSTk86IFtcbiAgICAgICcjMDAwMDA0JyxcbiAgICAgICcjMTEwYTMwJyxcbiAgICAgICcjMzIwYTVlJyxcbiAgICAgICcjNTcxMDZlJyxcbiAgICAgICcjNzgxYzZkJyxcbiAgICAgICcjOWEyODY1JyxcbiAgICAgICcjYmMzNzU0JyxcbiAgICAgICcjZDg0YzNlJyxcbiAgICAgICcjZWQ2OTI1JyxcbiAgICAgICcjZjk4ZTA5JyxcbiAgICAgICcjZmJiNjFhJyxcbiAgICAgICcjZjRkZjUzJyxcbiAgICBdLFxuICAgIFBMQVNNQTogW1xuICAgICAgJyMwZDA4ODcnLFxuICAgICAgJyMzYTA0OWEnLFxuICAgICAgJyM1YzAxYTYnLFxuICAgICAgJyM3ZTAzYTgnLFxuICAgICAgJyM5YzE3OWUnLFxuICAgICAgJyNiNTJmOGMnLFxuICAgICAgJyNjYzQ3NzgnLFxuICAgICAgJyNkZTVmNjUnLFxuICAgICAgJyNlZDc5NTMnLFxuICAgICAgJyNmODk1NDAnLFxuICAgICAgJyNmZGI0MmYnLFxuICAgICAgJyNmYmQ1MjQnLFxuICAgIF0sXG4gICAgWUxfT1JfUkQ6IFtcbiAgICAgICcjZmZmZmNjJyxcbiAgICAgICcjZmZlZGEwJyxcbiAgICAgICcjZmVkOTc2JyxcbiAgICAgICcjZmViMjRjJyxcbiAgICAgICcjZmQ4ZDNjJyxcbiAgICAgICcjZmM0ZTJhJyxcbiAgICAgICcjZTMxYTFjJyxcbiAgICAgICcjYmQwMDI2JyxcbiAgICAgICcjODAwMDI2JyxcbiAgICBdLFxuICAgIFlMX0dOX0JVOiBbXG4gICAgICAnI2ZmZmZkOScsXG4gICAgICAnI2VkZjhiMScsXG4gICAgICAnI2M3ZTliNCcsXG4gICAgICAnIzdmY2RiYicsXG4gICAgICAnIzQxYjZjNCcsXG4gICAgICAnIzFkOTFjMCcsXG4gICAgICAnIzIyNWVhOCcsXG4gICAgICAnIzI1MzQ5NCcsXG4gICAgICAnIzA4MWQ1OCcsXG4gICAgXSxcbiAgICBCVV9HTjogW1xuICAgICAgJyNmN2ZjZmQnLFxuICAgICAgJyNlYmY3ZmEnLFxuICAgICAgJyNkY2YyZjInLFxuICAgICAgJyNjOGVhZTQnLFxuICAgICAgJyNhYWRmZDInLFxuICAgICAgJyM4OGQxYmMnLFxuICAgICAgJyM2OGMyYTMnLFxuICAgICAgJyM0ZWI0ODUnLFxuICAgICAgJyMzN2EyNjYnLFxuICAgICAgJyMyMjhjNDknLFxuICAgICAgJyMwZDc2MzUnLFxuICAgICAgJyMwMjVmMjcnLFxuICAgIF0sXG4gICAgV0FSUDEwOiBbXG4gICAgICAnI2ZmOTkwMCcsXG4gICAgICAnIzAwNGVmZicsXG4gICAgICAnI0U1MzkzNScsXG4gICAgICAnIzdDQjM0MicsXG4gICAgICAnI0Y0NTExRScsXG4gICAgICAnIzAzOUJFNScsXG4gICAgICAnI0Q4MUI2MCcsXG4gICAgICAnI0MwQ0EzMycsXG4gICAgICAnIzZENEM0MScsXG4gICAgICAnIzhFMjRBQScsXG4gICAgICAnIzAwQUNDMScsXG4gICAgICAnI0ZERDgzNScsXG4gICAgICAnIzVFMzVCMScsXG4gICAgICAnIzAwODk3QicsXG4gICAgICAnI0ZGQjMwMCcsXG4gICAgICAnIzM5NDlBQicsXG4gICAgICAnIzQzQTA0NycsXG4gICAgICAnIzFFODhFNScsXG4gICAgXSxcbiAgICBOSU5FVEVFTl9FSUdIVFlfRk9VUjogWycjMzFDMEY2JywgJyNBNTAwQTUnLCAnI0ZGN0UyNyddLFxuICAgIEFUTEFOVElTOiBbJyM3NEQ0OTUnLCAnIzNGM0ZCQScsICcjRkY0RDlFJ10sXG4gICAgRE9fQU5EUk9JRFNfRFJFQU06IFsnIzhGOEFGNCcsICcjQTUxNDE0JywgJyNGNENGMzEnXSxcbiAgICBERUxPUkVBTjogWycjRkQ3QTVEJywgJyM1RjFDRjInLCAnIzRDRTA5QSddLFxuICAgIENUSFVMSFU6IFsnI0ZEQzQ0RicsICcjMDA3Qzc2JywgJyM4OTgzRkYnXSxcbiAgICBFQ1RPUExBU006IFsnI0RBNkZGMScsICcjMDA3MTdBJywgJyNBQ0ZGNzYnXSxcbiAgICBUX01BWF80MDBfRklMTTogWycjRjZGNkY4JywgJyNBNEE4QjYnLCAnIzU0NTY2NyddXG4gIH07XG5cbiAgc3RhdGljIGdldENvbG9yKGk6IG51bWJlciwgc2NoZW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gQ29sb3JMaWIuY29sb3Jbc2NoZW1lXVtpICUgQ29sb3JMaWIuY29sb3Jbc2NoZW1lXS5sZW5ndGhdO1xuICB9XG5cbiAgc3RhdGljIGdldENvbG9yR3JhZGllbnQoaWQ6IG51bWJlciwgc2NoZW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gW1xuICAgICAgWzAsIENvbG9yTGliLnRyYW5zcGFyZW50aXplKENvbG9yTGliLmdldENvbG9yKGlkLCBzY2hlbWUpLCAwKV0sXG4gICAgICBbMSwgQ29sb3JMaWIudHJhbnNwYXJlbnRpemUoQ29sb3JMaWIuZ2V0Q29sb3IoaWQsIHNjaGVtZSksIDAuNyldXG4gICAgXTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRCbGVuZGVkQ29sb3JHcmFkaWVudChpZDogbnVtYmVyLCBzY2hlbWU6IHN0cmluZywgYmcgPSAnIzAwMDAwMCcpIHtcbiAgICByZXR1cm4gW1xuICAgICAgWzAsIENvbG9yTGliLmJsZW5kX2NvbG9ycyhiZywgQ29sb3JMaWIuZ2V0Q29sb3IoaWQsIHNjaGVtZSksIDApXSxcbiAgICAgIFsxLCBDb2xvckxpYi5ibGVuZF9jb2xvcnMoYmcsIENvbG9yTGliLmdldENvbG9yKGlkLCBzY2hlbWUpLCAxKV1cbiAgICBdO1xuICB9XG5cbiAgc3RhdGljIGdldENvbG9yU2NhbGUoc2NoZW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gQ29sb3JMaWIuY29sb3Jbc2NoZW1lXS5tYXAoKGMsIGkpID0+IFtpLCBjXSk7XG4gIH1cblxuICBzdGF0aWMgaGV4VG9SZ2IoaGV4KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gICAgcmV0dXJuIHJlc3VsdCA/IFtcbiAgICAgIHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICBwYXJzZUludChyZXN1bHRbM10sIDE2KVxuICAgIF0gOiBudWxsO1xuICB9XG5cbiAgc3RhdGljIHRyYW5zcGFyZW50aXplKGNvbG9yLCBhbHBoYSA9IDAuNSk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdyZ2JhKCcgKyBDb2xvckxpYi5oZXhUb1JnYihjb2xvcikuY29uY2F0KGFscGhhKS5qb2luKCcsJykgKyAnKSc7XG4gIH1cblxuICBzdGF0aWMgZ2VuZXJhdGVDb2xvcnMobnVtLCBzY2hlbWUpIHtcbiAgICBjb25zdCBjb2xvciA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcbiAgICAgIGNvbG9yLnB1c2goQ29sb3JMaWIuZ2V0Q29sb3IoaSwgc2NoZW1lKSk7XG4gICAgfVxuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuXG4gIHN0YXRpYyBnZW5lcmF0ZVRyYW5zcGFyZW50Q29sb3JzKG51bSwgc2NoZW1lKSB7XG4gICAgY29uc3QgY29sb3IgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICBjb2xvci5wdXNoKENvbG9yTGliLnRyYW5zcGFyZW50aXplKENvbG9yTGliLmdldENvbG9yKGksIHNjaGVtZSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgc3RhdGljIGhzdkdyYWRpZW50RnJvbVJnYkNvbG9ycyhjMSwgYzIsIHN0ZXBzKSB7XG4gICAgY29uc3QgYzFoc3YgPSBDb2xvckxpYi5yZ2IyaHN2KGMxLnIsIGMxLmcsIGMxLmIpO1xuICAgIGNvbnN0IGMyaHN2ID0gQ29sb3JMaWIucmdiMmhzdihjMi5yLCBjMi5nLCBjMi5iKTtcbiAgICBjMS5oID0gYzFoc3ZbMF07XG4gICAgYzEucyA9IGMxaHN2WzFdO1xuICAgIGMxLnYgPSBjMWhzdlsyXTtcbiAgICBjMi5oID0gYzJoc3ZbMF07XG4gICAgYzIucyA9IGMyaHN2WzFdO1xuICAgIGMyLnYgPSBjMmhzdlsyXTtcbiAgICBjb25zdCBncmFkaWVudCA9IENvbG9yTGliLmhzdkdyYWRpZW50KGMxLCBjMiwgc3RlcHMpO1xuICAgIGZvciAoY29uc3QgaSBpbiBncmFkaWVudCkge1xuICAgICAgaWYgKGdyYWRpZW50W2ldKSB7XG4gICAgICAgIGdyYWRpZW50W2ldLnJnYiA9IENvbG9yTGliLmhzdjJyZ2IoZ3JhZGllbnRbaV0uaCwgZ3JhZGllbnRbaV0ucywgZ3JhZGllbnRbaV0udik7XG4gICAgICAgIGdyYWRpZW50W2ldLnIgPSBNYXRoLmZsb29yKGdyYWRpZW50W2ldLnJnYlswXSk7XG4gICAgICAgIGdyYWRpZW50W2ldLmcgPSBNYXRoLmZsb29yKGdyYWRpZW50W2ldLnJnYlsxXSk7XG4gICAgICAgIGdyYWRpZW50W2ldLmIgPSBNYXRoLmZsb29yKGdyYWRpZW50W2ldLnJnYlsyXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBncmFkaWVudDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHJnYjJoc3YocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlcikge1xuICAgIC8vIE5vcm1hbGl6ZVxuICAgIGNvbnN0IG5vcm1SID0gciAvIDI1NS4wO1xuICAgIGNvbnN0IG5vcm1HID0gZyAvIDI1NS4wO1xuICAgIGNvbnN0IG5vcm1CID0gYiAvIDI1NS4wO1xuICAgIGNvbnN0IE0gPSBNYXRoLm1heChub3JtUiwgbm9ybUcsIG5vcm1CKTtcbiAgICBjb25zdCBtID0gTWF0aC5taW4obm9ybVIsIG5vcm1HLCBub3JtQik7XG4gICAgY29uc3QgZCA9IE0gLSBtO1xuICAgIGxldCBoO1xuICAgIGxldCBzO1xuICAgIGxldCB2O1xuICAgIHYgPSBNO1xuICAgIGlmIChkID09PSAwKSB7XG4gICAgICBoID0gMDtcbiAgICAgIHMgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBzID0gZCAvIHY7XG4gICAgICBzd2l0Y2ggKE0pIHtcbiAgICAgICAgY2FzZSBub3JtUjpcbiAgICAgICAgICBoID0gKChub3JtRyAtIG5vcm1CKSArIGQgKiAobm9ybUcgPCBub3JtQiA/IDYgOiAwKSkgLyA2ICogZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBub3JtRzpcbiAgICAgICAgICBoID0gKChub3JtQiAtIG5vcm1SKSArIGQgKiAyKSAvIDYgKiBkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIG5vcm1COlxuICAgICAgICAgIGggPSAoKG5vcm1SIC0gbm9ybUcpICsgZCAqIDQpIC8gNiAqIGQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbaCwgcywgdl07XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBoc3ZHcmFkaWVudChjMTogYW55LCBjMjogYW55LCBzdGVwczogYW55KSB7XG4gICAgY29uc3QgZ3JhZGllbnQgPSBuZXcgQXJyYXkoc3RlcHMpO1xuICAgIC8vIGRldGVybWluZSBjbG9ja3dpc2UgYW5kIGNvdW50ZXItY2xvY2t3aXNlIGRpc3RhbmNlIGJldHdlZW4gaHVlc1xuICAgIGNvbnN0IGRpc3RDQ1cgPSAoYzEuaCA+PSBjMi5oKSA/IGMxLmggLSBjMi5oIDogMSArIGMxLmggLSBjMi5oO1xuICAgIGNvbnN0IGRpc3RDVyA9IChjMS5oID49IGMyLmgpID8gMSArIGMyLmggLSBjMS5oIDogYzIuaCAtIGMxLmg7XG4gICAgLy8gbWFrZSBncmFkaWVudCBmb3IgdGhpcyBwYXJ0XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGVwczsgaSsrKSB7XG4gICAgICAvLyBpbnRlcnBvbGF0ZSBoLCBzLCBiXG4gICAgICBsZXQgaCA9IChkaXN0Q1cgPD0gZGlzdENDVykgPyBjMS5oICsgKGRpc3RDVyAqIGkgLyAoc3RlcHMgLSAxKSkgOiBjMS5oIC0gKGRpc3RDQ1cgKiBpIC8gKHN0ZXBzIC0gMSkpO1xuICAgICAgaWYgKGggPCAwKSB7XG4gICAgICAgIGggPSAxICsgaDtcbiAgICAgIH1cbiAgICAgIGlmIChoID4gMSkge1xuICAgICAgICBoID0gaCAtIDE7XG4gICAgICB9XG4gICAgICBjb25zdCBzID0gKDEgLSBpIC8gKHN0ZXBzIC0gMSkpICogYzEucyArIGkgLyAoc3RlcHMgLSAxKSAqIGMyLnM7XG4gICAgICBjb25zdCB2ID0gKDEgLSBpIC8gKHN0ZXBzIC0gMSkpICogYzEudiArIGkgLyAoc3RlcHMgLSAxKSAqIGMyLnY7XG4gICAgICAvLyBhZGQgdG8gZ3JhZGllbnQgYXJyYXlcbiAgICAgIGdyYWRpZW50W2ldID0ge2gsIHMsIHZ9O1xuICAgIH1cbiAgICByZXR1cm4gZ3JhZGllbnQ7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBoc3YycmdiKGg6IGFueSwgczogYW55LCB2OiBhbnkpIHtcbiAgICBsZXQgcjtcbiAgICBsZXQgZztcbiAgICBsZXQgYjtcbiAgICBjb25zdCBpID0gTWF0aC5mbG9vcihoICogNik7XG4gICAgY29uc3QgZiA9IGggKiA2IC0gaTtcbiAgICBjb25zdCBwID0gdiAqICgxIC0gcyk7XG4gICAgY29uc3QgcSA9IHYgKiAoMSAtIGYgKiBzKTtcbiAgICBjb25zdCB0ID0gdiAqICgxIC0gKDEgLSBmKSAqIHMpO1xuICAgIHN3aXRjaCAoaSAlIDYpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgciA9IHY7XG4gICAgICAgIGcgPSB0O1xuICAgICAgICBiID0gcDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHIgPSBxO1xuICAgICAgICBnID0gdjtcbiAgICAgICAgYiA9IHA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByID0gcDtcbiAgICAgICAgZyA9IHY7XG4gICAgICAgIGIgPSB0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgciA9IHA7XG4gICAgICAgIGcgPSBxO1xuICAgICAgICBiID0gdjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIHIgPSB0O1xuICAgICAgICBnID0gcDtcbiAgICAgICAgYiA9IHY7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1OlxuICAgICAgICByID0gdjtcbiAgICAgICAgZyA9IHA7XG4gICAgICAgIGIgPSBxO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIFtyICogMjU1LCBnICogMjU1LCBiICogMjU1XTtcbiAgfVxuXG4gIHN0YXRpYyByZ2IyaGV4KHIsIGcsIGIpIHtcbiAgICBmdW5jdGlvbiBjb21wb25lbnRUb0hleChjKSB7XG4gICAgICBjb25zdCBoZXggPSBjLnRvU3RyaW5nKDE2KTtcbiAgICAgIHJldHVybiBoZXgubGVuZ3RoID09PSAxID8gJzAnICsgaGV4IDogaGV4O1xuICAgIH1cblxuICAgIHJldHVybiAnIycgKyBjb21wb25lbnRUb0hleChyKSArIGNvbXBvbmVudFRvSGV4KGcpICsgY29tcG9uZW50VG9IZXgoYik7XG4gIH1cblxuICBzdGF0aWMgYmxlbmRfY29sb3JzKGNvbG9yMSwgY29sb3IyLCBwZXJjZW50YWdlKSB7XG4gICAgLy8gY2hlY2sgaW5wdXRcbiAgICBjb2xvcjEgPSBjb2xvcjEgfHwgJyMwMDAwMDAnO1xuICAgIGNvbG9yMiA9IGNvbG9yMiB8fCAnI2ZmZmZmZic7XG4gICAgcGVyY2VudGFnZSA9IHBlcmNlbnRhZ2UgfHwgMC41O1xuICAgIC8vIDE6IHZhbGlkYXRlIGlucHV0LCBtYWtlIHN1cmUgd2UgaGF2ZSBwcm92aWRlZCBhIHZhbGlkIGhleFxuICAgIGlmIChjb2xvcjEubGVuZ3RoICE9PSA0ICYmIGNvbG9yMS5sZW5ndGggIT09IDcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY29sb3JzIG11c3QgYmUgcHJvdmlkZWQgYXMgaGV4ZXMnKTtcbiAgICB9XG4gICAgaWYgKGNvbG9yMi5sZW5ndGggIT09IDQgJiYgY29sb3IyLmxlbmd0aCAhPT0gNykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb2xvcnMgbXVzdCBiZSBwcm92aWRlZCBhcyBoZXhlcycpO1xuICAgIH1cbiAgICBpZiAocGVyY2VudGFnZSA+IDEgfHwgcGVyY2VudGFnZSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGVyY2VudGFnZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMScpO1xuICAgIH1cbiAgICAvLyAyOiBjaGVjayB0byBzZWUgaWYgd2UgbmVlZCB0byBjb252ZXJ0IDMgY2hhciBoZXggdG8gNiBjaGFyIGhleCwgZWxzZSBzbGljZSBvZmYgaGFzaFxuICAgIC8vICAgICAgdGhlIHRocmVlIGNoYXJhY3RlciBoZXggaXMganVzdCBhIHJlcHJlc2VudGF0aW9uIG9mIHRoZSA2IGhleCB3aGVyZSBlYWNoIGNoYXJhY3RlciBpcyByZXBlYXRlZFxuICAgIC8vICAgICAgaWU6ICMwNjAgPT4gIzAwNjYwMCAoZ3JlZW4pXG4gICAgaWYgKGNvbG9yMS5sZW5ndGggPT09IDQpIHtcbiAgICAgIGNvbG9yMSA9IGNvbG9yMVsxXSArIGNvbG9yMVsxXSArIGNvbG9yMVsyXSArIGNvbG9yMVsyXSArIGNvbG9yMVszXSArIGNvbG9yMVszXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29sb3IxID0gY29sb3IxLnN1YnN0cmluZygxKTtcbiAgICB9XG4gICAgaWYgKGNvbG9yMi5sZW5ndGggPT09IDQpIHtcbiAgICAgIGNvbG9yMiA9IGNvbG9yMlsxXSArIGNvbG9yMlsxXSArIGNvbG9yMlsyXSArIGNvbG9yMlsyXSArIGNvbG9yMlszXSArIGNvbG9yMlszXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29sb3IyID0gY29sb3IyLnN1YnN0cmluZygxKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ3ZhbGlkOiBjMSA9PiAnICsgY29sb3IxICsgJywgYzIgPT4gJyArIGNvbG9yMik7XG4gICAgLy8gMzogd2UgaGF2ZSB2YWxpZCBpbnB1dCwgY29udmVydCBjb2xvcnMgdG8gcmdiXG4gICAgY29sb3IxID0gW3BhcnNlSW50KGNvbG9yMVswXSArIGNvbG9yMVsxXSwgMTYpLCBwYXJzZUludChjb2xvcjFbMl0gKyBjb2xvcjFbM10sIDE2KSwgcGFyc2VJbnQoY29sb3IxWzRdICsgY29sb3IxWzVdLCAxNildO1xuICAgIGNvbG9yMiA9IFtwYXJzZUludChjb2xvcjJbMF0gKyBjb2xvcjJbMV0sIDE2KSwgcGFyc2VJbnQoY29sb3IyWzJdICsgY29sb3IyWzNdLCAxNiksIHBhcnNlSW50KGNvbG9yMls0XSArIGNvbG9yMls1XSwgMTYpXTtcbiAgICBjb25zb2xlLmxvZygnaGV4IC0+IHJnYmE6IGMxID0+IFsnICsgY29sb3IxLmpvaW4oJywgJykgKyAnXSwgYzIgPT4gWycgKyBjb2xvcjIuam9pbignLCAnKSArICddJyk7XG4gICAgLy8gNDogYmxlbmRcbiAgICBjb25zdCBjb2xvcjMgPSBbXG4gICAgICAoMSAtIHBlcmNlbnRhZ2UpICogY29sb3IxWzBdICsgcGVyY2VudGFnZSAqIGNvbG9yMlswXSxcbiAgICAgICgxIC0gcGVyY2VudGFnZSkgKiBjb2xvcjFbMV0gKyBwZXJjZW50YWdlICogY29sb3IyWzFdLFxuICAgICAgKDEgLSBwZXJjZW50YWdlKSAqIGNvbG9yMVsyXSArIHBlcmNlbnRhZ2UgKiBjb2xvcjJbMl1cbiAgICBdO1xuICAgIGNvbnN0IGNvbG9yM1N0ciA9ICcjJyArIENvbG9yTGliLmludF90b19oZXgoY29sb3IzWzBdKSArIENvbG9yTGliLmludF90b19oZXgoY29sb3IzWzFdKSArIENvbG9yTGliLmludF90b19oZXgoY29sb3IzWzJdKTtcbiAgICBjb25zb2xlLmxvZyhjb2xvcjNTdHIpO1xuICAgIC8vIHJldHVybiBoZXhcbiAgICByZXR1cm4gY29sb3IzU3RyO1xuICB9XG5cbiAgLypcbiAgICAgIGNvbnZlcnQgYSBOdW1iZXIgdG8gYSB0d28gY2hhcmFjdGVyIGhleCBzdHJpbmdcbiAgICAgIG11c3Qgcm91bmQsIG9yIHdlIHdpbGwgZW5kIHVwIHdpdGggbW9yZSBkaWdpdHMgdGhhbiBleHBlY3RlZCAoMilcbiAgICAgIG5vdGU6IGNhbiBhbHNvIHJlc3VsdCBpbiBzaW5nbGUgZGlnaXQsIHdoaWNoIHdpbGwgbmVlZCB0byBiZSBwYWRkZWQgd2l0aCBhIDAgdG8gdGhlIGxlZnRcbiAgICAgIEBwYXJhbTogbnVtICAgICAgICAgPT4gdGhlIG51bWJlciB0byBjb252ZXIgdG8gaGV4XG4gICAgICBAcmV0dXJuczogc3RyaW5nICAgID0+IHRoZSBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIHByb3ZpZGVkIG51bWJlclxuICAqL1xuICBzdGF0aWMgaW50X3RvX2hleChudW06IG51bWJlcikge1xuICAgIGxldCBoZXggPSBNYXRoLnJvdW5kKG51bSkudG9TdHJpbmcoMTYpO1xuICAgIGlmIChoZXgubGVuZ3RoID09PSAxKSB7XG4gICAgICBoZXggPSAnMCcgKyBoZXg7XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG4gIH1cbn1cbiJdfQ==